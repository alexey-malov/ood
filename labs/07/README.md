
# **Лабораторная работа №7. Паттерн «Компоновщик»**

- [**Лабораторная работа №7. Паттерн «Компоновщик»**](#лабораторная-работа-7-паттерн-компоновщик)
  - [Критерии оценивания лабораторной работы](#критерии-оценивания-лабораторной-работы)
  - [Обязательные задания](#обязательные-задания)
    - [Задание 1 – Слайды – 100 баллов](#задание-1--слайды--100-баллов)
      - [Бонус в 50 баллов за визуализацию слайда](#бонус-в-50-баллов-за-визуализацию-слайда)
      - [Бонус в 30 баллов за юнит-тестирование класса «Группа фигур»](#бонус-в-30-баллов-за-юнит-тестирование-класса-группа-фигур)

## Критерии оценивания лабораторной работы

При сдаче лабораторной работы студент должен уметь ответить на вопросы преподавателя насчёт используемых паттернов проектирования, уметь изобразить схему паттерна на диаграмме классов, а также продемонстрировать диаграмму классов своего приложения.

- На оценку «удовлетворительно» необходимо набрать 100 баллов.
- На оценку «хорошо» необходимо набрать 150 баллов.
- На оценку «отлично» необходимо набрать 180 баллов.

**Дополнительные задания принимаются только после выполнения обязательных заданий.**

## Обязательные задания

### Задание 1 – Слайды – 100 баллов

Разработайте с использованием паттерна «Компоновщик» программу, отображающую слайды.

Слайдом считается изображение, состоящее из набора геометрических фигур. Фигуры могут быть примитивными (**прямоугольники**, **треугольники**, **эллипсы** и т.п.) и составными (**группы фигур**).

Каждая примитивная фигура обладает стилями обводки (`LineStyle`) и заливки (`FillStyle`), а также ограничивающим прямоугольником (`Frame`), задающим координаты и размеры, внутри которых вписана фигура.

Стиль заливки определяется:

- Наличием заливки. Фигуры с отключенной заливкой отображаются без заполнения внутренностей
- Цветом заливки в формате RGBA

Стиль обводки определяется:

- Наличием обводки. Фигуры с отключенной обводкой отображаются без границы
- Цветом обводки в формате RGBA
- Толщиной рисования линий

Данные свойства стилей доступны как для чтения, так и для записи

Слайд, как и фигуры могут быть нарисованы на холсте, представленном интерфейсом `ICanvas`. `ICanvas` предоставляет набор примитивных операций:

- Нарисовать отрезок прямой линии
- Нарисовать эллипс
- Заполнить эллипс
- Заполнить многоугольник, заданный массивом точек
- Изменить цвет заполнения внутренних областей фигур
- Изменить цвет рисования линий
- Изменить толщину рисования линий

Вы можете внести необходимые изменения в список данных методов.

Свойства группы должны быть следующими:

- Фреймом группы должен быть фрейм, охватывающий свойства входящих в состав группы фигур
- Свойства стилей заливки и обводки группы фигур должны возвращать значение `undefined` (или его аналоги: `null`, `none` и т.п.) либо значение соответствующего свойства фигур в составе группы, если оно одинаково для всех фигур в составе группы

При модификации свойств составной фигуры, должны происходить соответствующие изменения в составляющих ее фигурах:

- При изменении фрейма группы, входящие в ее состав фигуры должны пропорционально изменять свои координаты и размеры (см. видео в лекции)
- При изменении любого из свойств стиля обводки, полученного у группы, должны изменяться соответствующие свойства стилей обводки входящих в ее состав фигур. Аналогично поведение должно быть при изменении свойств стиля заливки, полученного у группы.

В качестве реализации интерфейса `ICanvas` достаточно использовать вывод графических операций и их параметров в `stdout`.

В приложении должен создаваться слайд, на который добавлены несколько фигур, как простых, так и составных, формирующих некоторое изображение (желательно, осмысленное). Затем приложение должно выполнять визуализацию слайда на холсте.

#### Бонус в 50 баллов за визуализацию слайда

Бонус начисляется за возможность визуализации слайда с использованием произвольного графического API, либо сохранение в виде графического файла (wmf, svg и т.п.).

#### Бонус в 30 баллов за юнит-тестирование класса «Группа фигур»

Бонус начисляется за покрытие методов Composite-классов.
